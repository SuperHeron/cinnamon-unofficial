Upstream: committed: https://github.com/linuxmint/nemo/commit/3e8512d05205d69336527f8a72d20608b2566fee.patch
Reason: Fix build

From 3e8512d05205d69336527f8a72d20608b2566fee Mon Sep 17 00:00:00 2001
From: Michael Webster <miketwebster@gmail.com>
Date: Wed, 11 May 2016 05:57:31 -0400
Subject: [PATCH] fix action i18n scripts to write utf-8

---
 data/action_i18n_strings.py | 5 +++--
 data/extract_action_strings | 6 ++++--
 data/merge_action_strings   | 3 ++-
 3 files changed, 9 insertions(+), 5 deletions(-)

diff --git a/data/action_i18n_strings.py b/data/action_i18n_strings.py
index 4ca07f6..cf68a36 100644
--- a/data/action_i18n_strings.py
+++ b/data/action_i18n_strings.py
@@ -1,8 +1,9 @@
 
+'''
                 This is a dummy file for translating Nemo Action files
 
-                It was generated by the extract_action_strings script on 2016-04-30 21:36:25.839711 UTC.
-
+                It was generated by the extract_action_strings script on 2016-05-11 09:56:16.059322 UTC.
+'''
                 
 mount-archive_nemo_action_in_Name = _("Mount archive")
 mount-archive_nemo_action_in_Tooltip = _("Mount %f to browse its contents")
diff --git a/data/extract_action_strings b/data/extract_action_strings
index ac63837..025dcc4 100755
--- a/data/extract_action_strings
+++ b/data/extract_action_strings
@@ -4,6 +4,7 @@ import os
 import glob
 import datetime
 import sys
+import codecs
 from gi.repository import GLib
 
 GROUP = "Nemo Action"
@@ -17,10 +18,11 @@ class Main:
         if len(action_files) > 0:
             dt = datetime.datetime
             outstring = """
+'''
                 This is a dummy file for translating Nemo Action files
 
                 It was generated by the extract_action_strings script on %s UTC.
-
+'''
                 """ % (dt.utcnow())
             outstring += "\n"
             for fn in action_files:
@@ -47,7 +49,7 @@ class Main:
                 outfilename = os.path.join(os.getcwd(), "action_i18n_strings.py")
             if os.path.exists(outfilename):
                 os.remove(outfilename)
-            outfile = open(outfilename, 'w')
+            outfile = codecs.open(outfilename, 'w', 'utf-8')
             outfile.write(outstring)
             outfile.close()
             print("Extraction complete.  Run makepot now")
diff --git a/data/merge_action_strings b/data/merge_action_strings
index fe17f9e..61c5ab3 100755
--- a/data/merge_action_strings
+++ b/data/merge_action_strings
@@ -3,6 +3,7 @@
 import os
 import glob
 import polib
+import codecs
 from gi.repository import GLib
 
 GROUP = "Nemo Action"
@@ -44,7 +45,7 @@ class Main:
             outstring, length = self.in_keyfiles[fn].to_data()
             if os.path.exists(action_path):
                 os.remove(action_path)
-            outfile = open(action_path, 'w')
+            outfile = codecs.open(action_path, 'w', 'utf-8')
             outfile.write(outstring)
             outfile.close()
 
